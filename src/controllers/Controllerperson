import Modelperson from './src/models/Modelperson.js'

function findAll(req, res) {
    Modelperson.findAll().then((result) => res.json(result));
  }
  
  function findperson(req, res) {
    Modelperson.findByPk(req.params.id).then((result) => res.json(result));
  }
  
  function addperson(req, res) {
    Modelperson.create({
      nome: req.body.nome,
      email: req.body.email,
    }).then((result) => res.json(result));
  }
  
  async function updateperson(req, res) {
    await Modelperson.update(
      {
        nome: req.body.nome,
        email: req.body.email,
      },
      {
        where: {
          id: req.params.id,
        },
      }
    );
  
    Modelperson.findByPk(req.params.id).then((result) => res.json(result));
  }
  
  async function deleteperson(req, res) {
    await Modelperson.destroy({
      where: {
        id: req.params.id,
      },
    });
  
    Modelperson.findAll().then((result) => res.json(result));
  }
  
 module.exports = { findAll, addperson, findperson, updateperson, deleteperson };